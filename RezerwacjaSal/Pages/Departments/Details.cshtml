@page
@model RezerwacjaSal.Pages.Departments.DetailsModel

@{
    ViewData["Title"] = "Details";
}

<h3>Szczegóły wydziału</h3>

<div>
    <hr />
    <dl class="dl-horizontal">
        <dt>
            Nazwa:
        </dt>
        <dd>
            @Html.DisplayFor(model => model.Department.Name)
        </dd>
        <dt>
            Administrator:
        </dt>
        <dd>
            @Model.Department.Administrator - 
            @Model.People.Where(p => p.PearsonNumber == Model.Department.Administrator).Select(p => p.FirstName).FirstOrDefault()
            @Model.People.Where(p => p.PearsonNumber == Model.Department.Administrator).Select(p => p.LastName).FirstOrDefault()
        </dd>
        <dt>
            Kierownik:
        </dt>
        <dd>
            @Model.Department.Manager -

            @Model.People.Where(p => p.PearsonNumber == Model.Department.Manager).Select(p => p.FirstName).FirstOrDefault()
            @Model.People.Where(p => p.PearsonNumber == Model.Department.Manager).Select(p => p.LastName).FirstOrDefault()
        </dd>
    </dl>
</div>

<div class="form-group">
    <a class="btn btn-default" asp-page="Index">Lista wydziałów</a>
    <a class="btn btn-default btn-primary" asp-page="./Edit"  asp-route-departmentid="@Model.DepartmentIdRoute" >Edytuj</a>

</div>
